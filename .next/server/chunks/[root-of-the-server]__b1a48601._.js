module.exports=[18622,(e,t,a)=>{t.exports=e.x("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js",()=>require("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js"))},56704,(e,t,a)=>{t.exports=e.x("next/dist/server/app-render/work-async-storage.external.js",()=>require("next/dist/server/app-render/work-async-storage.external.js"))},32319,(e,t,a)=>{t.exports=e.x("next/dist/server/app-render/work-unit-async-storage.external.js",()=>require("next/dist/server/app-render/work-unit-async-storage.external.js"))},24725,(e,t,a)=>{t.exports=e.x("next/dist/server/app-render/after-task-async-storage.external.js",()=>require("next/dist/server/app-render/after-task-async-storage.external.js"))},70406,(e,t,a)=>{t.exports=e.x("next/dist/compiled/@opentelemetry/api",()=>require("next/dist/compiled/@opentelemetry/api"))},93695,(e,t,a)=>{t.exports=e.x("next/dist/shared/lib/no-fallback-error.external.js",()=>require("next/dist/shared/lib/no-fallback-error.external.js"))},70797,e=>{"use strict";var t=e.i(47909),a=e.i(74017),o=e.i(96250),r=e.i(59756),n=e.i(61916),i=e.i(74677),s=e.i(69741),c=e.i(16795),d=e.i(87718),l=e.i(95169),p=e.i(47587),u=e.i(66012),m=e.i(70101),h=e.i(26937),g=e.i(10372),f=e.i(93695);e.i(52474);var x=e.i(220),b=e.i(89171);let v=[{id:"pc-desktop-gaming",name:"PC Desktop Gaming i7",description:"PC de escritorio armada con Intel Core i7-9700K, 32GB RAM DDR4, RTX 2070 Super 8GB, SSD NVMe 1TB + HDD 2TB. Gabinete NZXT H510 con buena gestión de cables. Ideal para gaming 1440p o trabajo de edición. Incluye Windows 11 Pro activado.",price:85e4,condition:"muy-buen-estado",conditionLabel:"Muy buen estado",conditionDescription:"Funcionamiento perfecto. Algunos rayones mínimos en el gabinete. Componentes internos impecables, nunca overclockeados. Se entrega limpia y con pasta térmica nueva.",stock:1,images:["https://images.unsplash.com/photo-1587202372775-e229f172b9d7?w=800&q=80","https://images.unsplash.com/photo-1593640408182-31c70c8268f5?w=800&q=80"],category:"Tecnología",featured:!0},{id:"radio-yaesu-ft-857d",name:"Radio Yaesu FT-857D",description:"Transceptor multibanda HF/VHF/UHF compacto. Cubre de 160m a 70cm. 100W en HF/6m, 50W en VHF, 20W en UHF. Incluye micrófono original MH-31, cable de alimentación y manual. Perfecto para radioaficionados móviles o base compacta.",price:42e4,condition:"buen-estado",conditionLabel:"Buen estado",conditionDescription:"Funciona correctamente en todas las bandas. Display con un pixel muerto apenas visible. Carcasa con marcas de uso normal. Se probó en transmisión y recepción antes de publicar.",stock:1,images:["https://images.unsplash.com/photo-1478737270239-2f02b77fc618?w=800&q=80","https://images.unsplash.com/photo-1558618666-fcd25c85cd64?w=800&q=80"],category:"Radioafición"},{id:"inodoro-quimico-porta-potti",name:"Inodoro Químico Porta Potti 365",description:"Inodoro portátil Thetford Porta Potti 365. Capacidad tanque residuos 21L, tanque agua limpia 15L. Bomba de pistón. Indicador de nivel de residuos. Ideal para camping, motorhome, o emergencias en casa.",price:18e4,condition:"como-nuevo",conditionLabel:"Como nuevo",conditionDescription:"Usado solo una vez en un viaje de fin de semana. Completamente higienizado y desinfectado. Sin olores ni manchas. Incluye caja original y químicos sellados para primer uso.",stock:1,images:["https://images.unsplash.com/photo-1584622650111-993a426fbf0a?w=800&q=80"],category:"Camping"},{id:"impresora-brother-laser",name:"Impresora Brother HL-L2370DW",description:"Impresora láser monocromática con WiFi y dúplex automático. Velocidad 36ppm. Tóner de alto rendimiento incluido (nuevo, 3000 páginas). Perfecta para oficina en casa o pequeña empresa.",price:195e3,condition:"muy-buen-estado",conditionLabel:"Muy buen estado",conditionDescription:"Poco uso, contador marca ~5000 páginas. Imprime perfecto, sin líneas ni manchas. WiFi funcionando correctamente. Se entrega con tóner nuevo compatible de 3000 páginas.",stock:1,images:["https://images.unsplash.com/photo-1612815154858-60aa4c59eaa6?w=800&q=80"],category:"Tecnología"},{id:"septologia-knausgard",name:"Septología Completa - Knausgård",description:"Los 7 tomos de 'Mi Lucha' de Karl Ove Knausgård en español (Anagrama). La autobiografía más honesta y cruda de la literatura contemporánea. Incluye: La muerte del padre, Un hombre enamorado, La isla de la infancia, Bailando en la oscuridad, Tiene que llover, Fin, y el bonus 'En otoño'.",price:85e3,condition:"buen-estado",conditionLabel:"Buen estado",conditionDescription:"Todos los libros leídos una vez. Lomos en perfecto estado. Algunas páginas con marcas de lápiz (subrayados muy suaves, borrables). Sin dedicatorias. Ideal para quien quiera la colección completa.",stock:1,images:["https://images.unsplash.com/photo-1512820790803-83ca734da794?w=800&q=80","https://images.unsplash.com/photo-1495446815901-a7297e633e8d?w=800&q=80"],category:"Libros",featured:!0}];async function y(e){try{var t;let{productId:a,paymentMethod:o}=await e.json();if(!a||!o)return b.NextResponse.json({error:"Faltan datos requeridos"},{status:400});let r=process.env.MERCADOPAGO_ACCESS_TOKEN;if(!r)return console.error("MERCADOPAGO_ACCESS_TOKEN no está configurado"),b.NextResponse.json({error:"Mercado Pago no está configurado"},{status:500});let n=v.find(e=>e.id===a);if(!n)return b.NextResponse.json({error:"Producto no encontrado"},{status:404});let i="transfer"===o?(t=n.price,Math.round(.85*t)):n.price,s="http://localhost:3000";console.log("Base URL:",s);let c={items:[{id:a,title:n.name,description:`${n.conditionLabel} - ${n.category}`,quantity:1,unit_price:i,currency_id:"ARS"}],payer:{email:"comprador@email.com"},payment_methods:{excluded_payment_types:"transfer"===o?[{id:"credit_card"},{id:"debit_card"},{id:"prepaid_card"}]:[{id:"bank_transfer"},{id:"ticket"}],installments:"card"===o?3:1},back_urls:{success:`${s}/checkout/success`,failure:`${s}/checkout/failure`,pending:`${s}/checkout/pending`},auto_return:"approved",external_reference:a,statement_descriptor:"MY ARCHIVE SHOP"};console.log("Creating preference...");let d=await fetch("https://api.mercadopago.com/checkout/preferences",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify(c)}),l=await d.json();if(!d.ok)throw console.error("Error from MP API:",l),Error(l.message||"Error creating preference");return console.log("Preference created:",l.id),b.NextResponse.json({preferenceId:l.id,initPoint:l.init_point,sandboxInitPoint:l.sandbox_init_point})}catch(e){return console.error("Error creating preference:",e),b.NextResponse.json({error:"Error al crear la preferencia de pago"},{status:500})}}e.s(["POST",()=>y],95519);var R=e.i(95519);let C=new t.AppRouteRouteModule({definition:{kind:a.RouteKind.APP_ROUTE,page:"/api/checkout/route",pathname:"/api/checkout",filename:"route",bundlePath:""},distDir:".next",relativeProjectDir:"",resolvedPagePath:"[project]/src/app/api/checkout/route.ts",nextConfigOutput:"",userland:R}),{workAsyncStorage:E,workUnitAsyncStorage:w,serverHooks:P}=C;function A(){return(0,o.patchFetch)({workAsyncStorage:E,workUnitAsyncStorage:w})}async function k(e,t,o){C.isDev&&(0,r.addRequestMeta)(e,"devRequestTimingInternalsEnd",process.hrtime.bigint());let b="/api/checkout/route";b=b.replace(/\/index$/,"")||"/";let v=await C.prepare(e,t,{srcPage:b,multiZoneDraftMode:!1});if(!v)return t.statusCode=400,t.end("Bad Request"),null==o.waitUntil||o.waitUntil.call(o,Promise.resolve()),null;let{buildId:y,params:R,nextConfig:E,parsedUrl:w,isDraftMode:P,prerenderManifest:A,routerServerContext:k,isOnDemandRevalidate:T,revalidateOnlyGenerated:_,resolvedPathname:q,clientReferenceManifest:S,serverActionsManifest:I}=v,N=(0,s.normalizeAppPath)(b),O=!!(A.dynamicRoutes[N]||A.routes[q]),D=async()=>((null==k?void 0:k.render404)?await k.render404(e,t,w,!1):t.end("This page could not be found"),null);if(O&&!P){let e=!!A.routes[q],t=A.dynamicRoutes[N];if(t&&!1===t.fallback&&!e){if(E.experimental.adapterPath)return await D();throw new f.NoFallbackError}}let H=null;!O||C.isDev||P||(H="/index"===(H=q)?"/":H);let j=!0===C.isDev||!O,M=O&&!j;I&&S&&(0,i.setManifestsSingleton)({page:b,clientReferenceManifest:S,serverActionsManifest:I});let L=e.method||"GET",F=(0,n.getTracer)(),U=F.getActiveScopeSpan(),B={params:R,prerenderManifest:A,renderOpts:{experimental:{authInterrupts:!!E.experimental.authInterrupts},cacheComponents:!!E.cacheComponents,supportsDynamicResponse:j,incrementalCache:(0,r.getRequestMeta)(e,"incrementalCache"),cacheLifeProfiles:E.cacheLife,waitUntil:o.waitUntil,onClose:e=>{t.on("close",e)},onAfterTaskError:void 0,onInstrumentationRequestError:(t,a,o,r)=>C.onRequestError(e,t,o,r,k)},sharedContext:{buildId:y}},$=new c.NodeNextRequest(e),K=new c.NodeNextResponse(t),G=d.NextRequestAdapter.fromNodeNextRequest($,(0,d.signalFromNodeResponse)(t));try{let i=async e=>C.handle(G,B).finally(()=>{if(!e)return;e.setAttributes({"http.status_code":t.statusCode,"next.rsc":!1});let a=F.getRootSpanAttributes();if(!a)return;if(a.get("next.span_type")!==l.BaseServerSpan.handleRequest)return void console.warn(`Unexpected root span type '${a.get("next.span_type")}'. Please report this Next.js issue https://github.com/vercel/next.js`);let o=a.get("next.route");if(o){let t=`${L} ${o}`;e.setAttributes({"next.route":o,"http.route":o,"next.span_name":t}),e.updateName(t)}else e.updateName(`${L} ${b}`)}),s=!!(0,r.getRequestMeta)(e,"minimalMode"),c=async r=>{var n,c;let d=async({previousCacheEntry:a})=>{try{if(!s&&T&&_&&!a)return t.statusCode=404,t.setHeader("x-nextjs-cache","REVALIDATED"),t.end("This page could not be found"),null;let n=await i(r);e.fetchMetrics=B.renderOpts.fetchMetrics;let c=B.renderOpts.pendingWaitUntil;c&&o.waitUntil&&(o.waitUntil(c),c=void 0);let d=B.renderOpts.collectedTags;if(!O)return await (0,u.sendResponse)($,K,n,B.renderOpts.pendingWaitUntil),null;{let e=await n.blob(),t=(0,m.toNodeOutgoingHttpHeaders)(n.headers);d&&(t[g.NEXT_CACHE_TAGS_HEADER]=d),!t["content-type"]&&e.type&&(t["content-type"]=e.type);let a=void 0!==B.renderOpts.collectedRevalidate&&!(B.renderOpts.collectedRevalidate>=g.INFINITE_CACHE)&&B.renderOpts.collectedRevalidate,o=void 0===B.renderOpts.collectedExpire||B.renderOpts.collectedExpire>=g.INFINITE_CACHE?void 0:B.renderOpts.collectedExpire;return{value:{kind:x.CachedRouteKind.APP_ROUTE,status:n.status,body:Buffer.from(await e.arrayBuffer()),headers:t},cacheControl:{revalidate:a,expire:o}}}}catch(t){throw(null==a?void 0:a.isStale)&&await C.onRequestError(e,t,{routerKind:"App Router",routePath:b,routeType:"route",revalidateReason:(0,p.getRevalidateReason)({isStaticGeneration:M,isOnDemandRevalidate:T})},!1,k),t}},l=await C.handleResponse({req:e,nextConfig:E,cacheKey:H,routeKind:a.RouteKind.APP_ROUTE,isFallback:!1,prerenderManifest:A,isRoutePPREnabled:!1,isOnDemandRevalidate:T,revalidateOnlyGenerated:_,responseGenerator:d,waitUntil:o.waitUntil,isMinimalMode:s});if(!O)return null;if((null==l||null==(n=l.value)?void 0:n.kind)!==x.CachedRouteKind.APP_ROUTE)throw Object.defineProperty(Error(`Invariant: app-route received invalid cache entry ${null==l||null==(c=l.value)?void 0:c.kind}`),"__NEXT_ERROR_CODE",{value:"E701",enumerable:!1,configurable:!0});s||t.setHeader("x-nextjs-cache",T?"REVALIDATED":l.isMiss?"MISS":l.isStale?"STALE":"HIT"),P&&t.setHeader("Cache-Control","private, no-cache, no-store, max-age=0, must-revalidate");let f=(0,m.fromNodeOutgoingHttpHeaders)(l.value.headers);return s&&O||f.delete(g.NEXT_CACHE_TAGS_HEADER),!l.cacheControl||t.getHeader("Cache-Control")||f.get("Cache-Control")||f.set("Cache-Control",(0,h.getCacheControlHeader)(l.cacheControl)),await (0,u.sendResponse)($,K,new Response(l.value.body,{headers:f,status:l.value.status||200})),null};U?await c(U):await F.withPropagatedContext(e.headers,()=>F.trace(l.BaseServerSpan.handleRequest,{spanName:`${L} ${b}`,kind:n.SpanKind.SERVER,attributes:{"http.method":L,"http.target":e.url}},c))}catch(t){if(t instanceof f.NoFallbackError||await C.onRequestError(e,t,{routerKind:"App Router",routePath:N,routeType:"route",revalidateReason:(0,p.getRevalidateReason)({isStaticGeneration:M,isOnDemandRevalidate:T})},!1,k),O)throw t;return await (0,u.sendResponse)($,K,new Response(null,{status:500})),null}}e.s(["handler",()=>k,"patchFetch",()=>A,"routeModule",()=>C,"serverHooks",()=>P,"workAsyncStorage",()=>E,"workUnitAsyncStorage",()=>w],70797)}];

//# sourceMappingURL=%5Broot-of-the-server%5D__b1a48601._.js.map